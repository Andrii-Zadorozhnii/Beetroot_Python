{% extends 'base/base.html' %}
{% load static %}

{% block extra_style %}
<link rel="stylesheet" href="{% static 'css/cargo/index.css' %}">
<style>
        header, footer{
            position: fixed;
        }
    </style>
{% endblock %}

{% block content %}
<div class="video-container">
    <video autoplay muted loop>
        <source src="{% static 'bg/home_bg.mp4' %}" type="video/mp4">
        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
    </video>
</div>

<div class="content">

<!--<h2>–í–∞–Ω—Ç–∞–∂—ñ –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ 7 –¥–Ω—ñ–≤:</h2>-->
<!--    <ul>-->
<!--        {% for date, count in week_data.items %}-->
<!--            <li>{{ date }} ‚Äî {{ count }} –≤–∞–Ω—Ç–∞–∂—ñ–≤</li>-->
<!--        {% endfor %}-->
<!--    </ul>-->


    <h2 class="content__header">üì¶ –ì—Ä–∞—Ñ—ñ–∫ –≤–∞–Ω—Ç–∞–∂—ñ–≤ –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ 7 –¥–Ω—ñ–≤</h2>
    <canvas  id="cargoChart" width="600" height="300"></canvas>

<h2>–í—Å—å–æ–≥–æ –∑–∞ –ø–æ—Ç–æ—á–Ω–∏–π –º—ñ—Å—è—Ü—å: {{ month_count }}</h2>
</div>

{% endblock %}

{% block extra_scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    const ctx = document.getElementById('cargoChart').getContext('2d');


    const labels = {{ labels|safe }};
    const data = {{ values|safe }};

    new Chart(ctx, {
        type: 'bar',  // –º–æ–∂–µ—à –∑–∞–º—ñ–Ω–∏—Ç–∏ –Ω–∞ 'line'
        data: {
            labels: labels,
            datasets: [{
                label: '–ö—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∞–Ω—Ç–∞–∂—ñ–≤',
                data: data,
                backgroundColor: 'rgba(79, 149, 157, 0.7)',
                borderColor: '#205781',
                borderWidth: 2,
                borderRadius: 5,
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: { display: false },
                title: {
                    display: true,
                    text: '–í–∞–Ω—Ç–∞–∂—ñ –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ 7 –¥–Ω—ñ–≤'
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    ticks: {
                        stepSize: 1
                    }
                }
            }
        }
    });
</script>
<!-- Optional: Add any additional scripts here -->
{% endblock %}